{{ define "main" }}
  <header class="section-heading">
    <div>
      <p class="eyebrow">{{ .Section | humanize }}</p>
      <h1>{{ .Title }}</h1>
      {{ with .Description }}
        <p>{{ . }}</p>
      {{ else }}
        {{ with .Content }}
          <div class="content">{{ . }}</div>
        {{ end }}
      {{ end }}
    </div>
  </header>

  {{ $paginator := .Paginate (.Pages.ByDate.Reverse) }}
  <div class="post-list">
    {{ range $paginator.Pages }}
      {{ $summary := or .Params.description (.Summary | plainify) }}
      <article>
        <p class="post-meta">{{ .Date.Format "02 Jan 2006" }}</p>
        <h2><a href="{{ .RelPermalink }}">{{ .LinkTitle }}</a></h2>
        <p>{{ $summary }}</p>
      </article>
    {{ end }}
  </div>

  {{ if gt $paginator.TotalPages 1 }}
    <nav class="pagination" role="navigation" aria-label="Pagination">
      {{ if $paginator.HasPrev }}
        <a href="{{ $paginator.Prev.URL }}">← Newer posts</a>
      {{ else }}
        <span>← Newer posts</span>
      {{ end }}
      {{ if $paginator.HasNext }}
        <a href="{{ $paginator.Next.URL }}">Older posts →</a>
      {{ else }}
        <span>Older posts →</span>
      {{ end }}
    </nav>
  {{ end }}
{{ end }}
